
import { BuildingType, TechCategory, TechDef, TechType } from '../types';

const MINUTE = 60 * 1000;
const HOUR = 60 * MINUTE;

export const TECH_DEFS: Partial<Record<TechType, TechDef>> = {
  // UNIT UNLOCKS
  [TechType.UNLOCK_CYBER_MARINE]: {
    id: TechType.UNLOCK_CYBER_MARINE,
    category: TechCategory.MILITARY_GROUND,
    reqUniversityLevel: 1,
    reqBuildings: { [BuildingType.BARRACKS]: 1 },
    translationKey: 'unlock_cyber_marine',
    cost: { money: 25000, oil: 0, ammo: 1000 },
    researchTime: 5 * MINUTE,
    score: 50,
  },
  [TechType.UNLOCK_HEAVY_COMMANDO]: {
    id: TechType.UNLOCK_HEAVY_COMMANDO,
    category: TechCategory.MILITARY_GROUND,
    reqUniversityLevel: 3,
    reqBuildings: { [BuildingType.BARRACKS]: 5 },
    reqTechs: [TechType.UNLOCK_CYBER_MARINE, TechType.BASIC_TRAINING],
    translationKey: 'unlock_heavy_commando',
    cost: { money: 250000, oil: 0, ammo: 50000 },
    researchTime: 15 * MINUTE,
    score: 150,
  },
  [TechType.UNLOCK_SCOUT_TANK]: {
    id: TechType.UNLOCK_SCOUT_TANK,
    category: TechCategory.MILITARY_MECH,
    reqUniversityLevel: 4,
    reqBuildings: { [BuildingType.TANK_FACTORY]: 2 },
    reqTechs: [TechType.COMBUSTION_ENGINE, TechType.BALLISTICS],
    translationKey: 'unlock_scout_tank',
    cost: { money: 500000, oil: 25000, ammo: 10000 },
    researchTime: 30 * MINUTE,
    score: 300,
  },
  [TechType.UNLOCK_TITAN_MBT]: {
    id: TechType.UNLOCK_TITAN_MBT,
    category: TechCategory.MILITARY_MECH,
    reqUniversityLevel: 6,
    reqBuildings: { [BuildingType.TANK_FACTORY]: 5 },
    reqTechs: [TechType.HEAVY_PLATING, TechType.UNLOCK_SCOUT_TANK, TechType.EXPLOSIVE_CHEMISTRY],
    translationKey: 'unlock_titan_mbt',
    cost: { money: 2000000, oil: 100000, ammo: 50000 },
    researchTime: 1 * HOUR,
    score: 600,
  },
  [TechType.UNLOCK_WRAITH_GUNSHIP]: {
    id: TechType.UNLOCK_WRAITH_GUNSHIP,
    category: TechCategory.MILITARY_AIR,
    reqUniversityLevel: 6,
    reqBuildings: { [BuildingType.AIRFIELD]: 2 },
    reqTechs: [TechType.AERODYNAMICS, TechType.JET_ENGINES],
    translationKey: 'unlock_wraith_gunship',
    cost: { money: 3000000, oil: 100000, ammo: 50000 },
    researchTime: 90 * MINUTE,
    score: 800,
  },
  [TechType.UNLOCK_ACE_FIGHTER]: {
    id: TechType.UNLOCK_ACE_FIGHTER,
    category: TechCategory.MILITARY_AIR,
    reqUniversityLevel: 8,
    reqBuildings: { [BuildingType.AIRFIELD]: 5 },
    reqTechs: [TechType.UNLOCK_WRAITH_GUNSHIP, TechType.PRECISION_BOMBING],
    translationKey: 'unlock_ace_fighter',
    cost: { money: 10000000, oil: 500000, ammo: 200000 },
    researchTime: 3 * HOUR,
    score: 1500,
  },
  [TechType.UNLOCK_AEGIS_DESTROYER]: {
    id: TechType.UNLOCK_AEGIS_DESTROYER,
    category: TechCategory.MILITARY_NAVAL,
    reqUniversityLevel: 7,
    reqBuildings: { [BuildingType.SHIPYARD]: 5 },
    reqTechs: [TechType.NAVAL_ENGINEERING, TechType.SONAR_TECH],
    translationKey: 'unlock_aegis_destroyer',
    cost: { money: 20000000, oil: 500000, ammo: 200000 },
    researchTime: 4 * HOUR,
    score: 2500,
  },
  [TechType.UNLOCK_PHANTOM_SUB]: {
    id: TechType.UNLOCK_PHANTOM_SUB,
    category: TechCategory.MILITARY_NAVAL,
    reqUniversityLevel: 10,
    reqBuildings: { [BuildingType.SHIPYARD]: 10 },
    reqTechs: [TechType.STEALTH_HULL, TechType.UNLOCK_AEGIS_DESTROYER],
    translationKey: 'unlock_phantom_sub',
    cost: { money: 50000000, oil: 2000000, ammo: 1000000 },
    researchTime: 6 * HOUR,
    score: 5000,
  },

  // ECONOMY & PRODUCTIVE
  [TechType.EFFICIENT_WORKFLOWS]: {
    id: TechType.EFFICIENT_WORKFLOWS,
    category: TechCategory.PRODUCTIVE,
    reqUniversityLevel: 1,
    translationKey: 'efficient_workflows',
    cost: { money: 100000, oil: 0, ammo: 0 }, 
    costMultiplier: 2.5, 
    maxLevel: 20,
    researchTime: 10 * MINUTE,
    score: 100,
  },
  [TechType.DEEP_DRILLING]: {
    id: TechType.DEEP_DRILLING,
    category: TechCategory.PRODUCTIVE,
    reqUniversityLevel: 2,
    reqBuildings: { [BuildingType.OIL_RIG]: 5 },
    translationKey: 'deep_drilling',
    cost: { money: 250000, oil: 5000, ammo: 0 },
    costMultiplier: 2.5,
    maxLevel: 20,
    researchTime: 15 * MINUTE,
    score: 150,
  },
  [TechType.MASS_PRODUCTION]: {
    id: TechType.MASS_PRODUCTION,
    category: TechCategory.PRODUCTIVE,
    reqUniversityLevel: 3,
    reqBuildings: { [BuildingType.FACTORY]: 3 },
    translationKey: 'mass_production',
    cost: { money: 500000, oil: 10000, ammo: 0 },
    costMultiplier: 2.5,
    maxLevel: 20,
    researchTime: 20 * MINUTE,
    score: 200,
  },
  [TechType.GOLD_REFINING]: {
    id: TechType.GOLD_REFINING,
    category: TechCategory.PRODUCTIVE,
    reqUniversityLevel: 5,
    reqBuildings: { [BuildingType.GOLD_MINE]: 2 },
    translationKey: 'gold_refining',
    cost: { money: 2000000, oil: 50000, ammo: 0 },
    costMultiplier: 3.0,
    maxLevel: 20,
    researchTime: 45 * MINUTE,
    score: 500,
  },

  // LOGISTICS
  [TechType.RESOURCE_MANAGEMENT]: {
    id: TechType.RESOURCE_MANAGEMENT,
    category: TechCategory.LOGISTICS,
    reqUniversityLevel: 4,
    translationKey: 'resource_management',
    cost: { money: 1500000, oil: 25000, ammo: 0 },
    researchTime: 30 * MINUTE,
    score: 300,
  },
  [TechType.STRATEGIC_COMMAND]: {
    id: TechType.STRATEGIC_COMMAND,
    category: TechCategory.LOGISTICS,
    reqUniversityLevel: 10,
    reqTechs: [TechType.RESOURCE_MANAGEMENT],
    reqEmpirePoints: 500000,
    translationKey: 'strategic_command',
    cost: { money: 50000000, oil: 5000000, ammo: 2500000 },
    costMultiplier: 10.0,
    maxLevel: 3,
    researchTime: 12 * HOUR,
    score: 10000,
  },

  // MILITARY SPECIALS
  [TechType.BASIC_TRAINING]: {
    id: TechType.BASIC_TRAINING,
    category: TechCategory.MILITARY_GROUND,
    reqUniversityLevel: 1,
    translationKey: 'basic_training',
    cost: { money: 15000, oil: 0, ammo: 500 },
    researchTime: 2 * MINUTE,
    score: 10,
  },
  [TechType.PATROL_TRAINING]: {
    id: TechType.PATROL_TRAINING,
    category: TechCategory.MILITARY_GROUND,
    reqUniversityLevel: 5,
    reqBuildings: { [BuildingType.BARRACKS]: 10 },
    translationKey: 'patrol_training',
    cost: { money: 5000000, oil: 50000, ammo: 50000 },
    researchTime: 2 * HOUR,
    score: 500,
    maxLevel: 10,
    costMultiplier: 2.0 
  },
  [TechType.COMBUSTION_ENGINE]: {
    id: TechType.COMBUSTION_ENGINE,
    category: TechCategory.MILITARY_MECH,
    reqUniversityLevel: 2,
    reqBuildings: { [BuildingType.OIL_RIG]: 3 },
    translationKey: 'combustion_engine',
    cost: { money: 300000, oil: 25000, ammo: 0 }, 
    researchTime: 20 * MINUTE,
    score: 100,
  },
  [TechType.HEAVY_PLATING]: {
    id: TechType.HEAVY_PLATING,
    category: TechCategory.MILITARY_MECH,
    reqUniversityLevel: 5,
    reqBuildings: { [BuildingType.FACTORY]: 10 },
    translationKey: 'heavy_plating',
    cost: { money: 5000000, oil: 200000, ammo: 0 },
    researchTime: 2 * HOUR,
    score: 600,
  },
  [TechType.BALLISTICS]: {
    id: TechType.BALLISTICS,
    category: TechCategory.MILITARY_MECH,
    reqUniversityLevel: 2,
    translationKey: 'ballistics',
    cost: { money: 150000, oil: 5000, ammo: 10000 },
    researchTime: 15 * MINUTE,
    score: 80,
  },
  [TechType.EXPLOSIVE_CHEMISTRY]: {
    id: TechType.EXPLOSIVE_CHEMISTRY,
    category: TechCategory.MILITARY_MECH,
    reqUniversityLevel: 4,
    reqBuildings: { [BuildingType.MUNITIONS_FACTORY]: 5 },
    reqTechs: [TechType.BALLISTICS],
    translationKey: 'explosive_chemistry',
    cost: { money: 2500000, oil: 50000, ammo: 100000 },
    researchTime: 2 * HOUR,
    score: 500,
  },
  [TechType.NAVAL_ENGINEERING]: {
    id: TechType.NAVAL_ENGINEERING,
    category: TechCategory.MILITARY_NAVAL,
    reqUniversityLevel: 3,
    reqBuildings: { [BuildingType.SHIPYARD]: 1 },
    translationKey: 'naval_engineering',
    cost: { money: 1000000, oil: 100000, ammo: 0 },
    researchTime: 1 * HOUR,
    score: 400,
  },
  [TechType.SONAR_TECH]: {
    id: TechType.SONAR_TECH,
    category: TechCategory.MILITARY_NAVAL,
    reqUniversityLevel: 6,
    reqTechs: [TechType.NAVAL_ENGINEERING],
    translationKey: 'sonar_tech',
    cost: { money: 8000000, oil: 500000, ammo: 0 },
    researchTime: 4 * HOUR,
    score: 1500,
  },
  [TechType.STEALTH_HULL]: {
    id: TechType.STEALTH_HULL,
    category: TechCategory.MILITARY_NAVAL,
    reqUniversityLevel: 9,
    reqTechs: [TechType.NAVAL_ENGINEERING, TechType.SONAR_TECH],
    translationKey: 'stealth_hull',
    cost: { money: 50000000, oil: 3000000, ammo: 0 },
    researchTime: 10 * HOUR,
    score: 5000,
  },
  [TechType.AERODYNAMICS]: {
    id: TechType.AERODYNAMICS,
    category: TechCategory.MILITARY_AIR,
    reqUniversityLevel: 5,
    translationKey: 'aerodynamics',
    cost: { money: 3000000, oil: 500000, ammo: 0 },
    researchTime: 3 * HOUR,
    score: 800,
  },
  [TechType.JET_ENGINES]: {
    id: TechType.JET_ENGINES,
    category: TechCategory.MILITARY_AIR,
    reqUniversityLevel: 7,
    reqTechs: [TechType.AERODYNAMICS],
    translationKey: 'jet_engines',
    cost: { money: 15000000, oil: 2000000, ammo: 0 },
    researchTime: 6 * HOUR,
    score: 2500,
  },
  [TechType.PRECISION_BOMBING]: {
    id: TechType.PRECISION_BOMBING,
    category: TechCategory.MILITARY_AIR,
    reqUniversityLevel: 9,
    reqTechs: [TechType.AERODYNAMICS, TechType.BALLISTICS],
    translationKey: 'precision_bombing',
    cost: { money: 50000000, oil: 1000000, ammo: 2000000 },
    researchTime: 10 * HOUR,
    score: 5000,
  }
};
